{"ast":null,"code":"import _slicedToArray from \"/home/patrik/School/ramverk2/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _taggedTemplateLiteral from \"/home/patrik/School/ramverk2/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";\nvar _jsxFileName = \"/home/patrik/School/ramverk2/src/components/views/Signin.js\";\n\nfunction _templateObject() {\n  const data = _taggedTemplateLiteral([\"\\n    button {\\n        margin-top: 30px;\\n    }\\n\\n    label {\\n        color: black;\\n        font-weight: bold;\\n    }\\n\\n    .secondary_label {\\n        float: right;\\n        color: black;\\n    }\\n\\n    .arrow {       \\n        svg {\\n            margin: 0 auto;\\n        }\\n    }\\n\\n    .arrow:hover {\\n        cursor: pointer;\\n\\n        svg {\\n            color: #E85A50 !important;\\n        }\\n    }\\n\"]);\n\n  _templateObject = function () {\n    return data;\n  };\n\n  return data;\n}\n\nimport React, { useState, useEffect } from \"react\";\nimport styled from 'styled-components';\nimport Button from 'react-bootstrap/Button';\nimport Form from 'react-bootstrap/Form';\nimport useFormSignIn from './UseFormSignIn';\nimport axios from 'axios';\nimport { tsConstructSignatureDeclaration } from \"@babel/types\";\nconst FormStyle = styled.form(_templateObject());\nconst INITIAL_STATE = {\n  email: '',\n  password: ''\n};\n\nconst Signin = props => {\n  const _useFormSignIn = useFormSignIn(INITIAL_STATE, login),\n        values = _useFormSignIn.values,\n        handleChange = _useFormSignIn.handleChange,\n        handleSubmit = _useFormSignIn.handleSubmit;\n\n  const _useState = useState(false),\n        _useState2 = _slicedToArray(_useState, 2),\n        isLoading = _useState2[0],\n        setIsLoading = _useState2[1];\n\n  function login() {\n    if (!isLoading) {\n      axios({\n        method: 'post',\n        url: \"\".concat(process.env.REACT_APP_BACKEND_URL, \"/login/\"),\n        data: {\n          email: values.email,\n          password: values.password\n        }\n      }).then(response => {\n        setIsLoading(true);\n        console.log(\"Response: \", response);\n        localStorage.setItem(\"token\", response.data.hemlighet);\n        localStorage.setItem(\"username\", response.data.username);\n        props.closeMe();\n        props.history.push('/about');\n      }).catch(error => {\n        setIsLoading(false);\n        console.log(error.response);\n\n        if (error.response) {\n          console.log(\"Hej\");\n        } else if (error.request) {\n          console.log(\"hehjehe\");\n        } else {\n          console.log(\"tja\");\n        }\n      });\n    }\n\n    ;\n  }\n\n  ;\n  return React.createElement(React.Fragment, null, React.createElement(\"h1\", {\n    className: \"header\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84\n    },\n    __self: this\n  }, \" Sign in \"), React.createElement(\"hr\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    className: \"content\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86\n    },\n    __self: this\n  }, React.createElement(FormStyle, {\n    className: \"row\",\n    onSubmit: handleSubmit,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"col-sm\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89\n    },\n    __self: this\n  }, \"Email\"), React.createElement(Form.Control, {\n    name: \"email\",\n    type: \"email\",\n    onChange: handleChange,\n    value: values.email,\n    required: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90\n    },\n    __self: this\n  }), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97\n    },\n    __self: this\n  }), React.createElement(\"label\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98\n    },\n    __self: this\n  }, \"Password\"), React.createElement(Form.Control, {\n    name: \"password\",\n    type: \"password\",\n    onChange: handleChange,\n    value: values.password,\n    required: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99\n    },\n    __self: this\n  }), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106\n    },\n    __self: this\n  })), React.createElement(Button, {\n    type: \"submit\",\n    block: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108\n    },\n    __self: this\n  }, \"Submit\")), React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114\n    },\n    __self: this\n  }, \"Don't have an account?\", React.createElement(\"a\", {\n    \"aria-current\": \"page\",\n    href: \"/register\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115\n    },\n    __self: this\n  }, \" Sign up here\"))));\n};\n\nexport default Signin;","map":{"version":3,"sources":["/home/patrik/School/ramverk2/src/components/views/Signin.js"],"names":["React","useState","useEffect","styled","Button","Form","useFormSignIn","axios","tsConstructSignatureDeclaration","FormStyle","form","INITIAL_STATE","email","password","Signin","props","login","values","handleChange","handleSubmit","isLoading","setIsLoading","method","url","process","env","REACT_APP_BACKEND_URL","data","then","response","console","log","localStorage","setItem","hemlighet","username","closeMe","history","push","catch","error","request"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from \"react\";\nimport styled from 'styled-components';\nimport Button from 'react-bootstrap/Button';\nimport Form from 'react-bootstrap/Form';\nimport useFormSignIn from './UseFormSignIn'\nimport axios from 'axios';\nimport { tsConstructSignatureDeclaration } from \"@babel/types\";\n\nconst FormStyle = styled.form`\n    button {\n        margin-top: 30px;\n    }\n\n    label {\n        color: black;\n        font-weight: bold;\n    }\n\n    .secondary_label {\n        float: right;\n        color: black;\n    }\n\n    .arrow {       \n        svg {\n            margin: 0 auto;\n        }\n    }\n\n    .arrow:hover {\n        cursor: pointer;\n\n        svg {\n            color: #E85A50 !important;\n        }\n    }\n`;\n\nconst INITIAL_STATE = {\n    email: '',\n    password: ''\n};\n\n\nconst Signin = (props) => {\n\n    const { values, handleChange, handleSubmit } = useFormSignIn(INITIAL_STATE, login);\n    const [isLoading, setIsLoading] = useState(false);\n\n    function login() {\n        if (!isLoading) {\n            axios({\n                method: 'post',\n                url: `${process.env.REACT_APP_BACKEND_URL}/login/`,\n                data: {\n                    email: values.email,\n                    password: values.password\n                }\n            })\n                .then(response => {\n                    setIsLoading(true);\n                    console.log(\"Response: \", response);\n                    localStorage.setItem(\"token\", response.data.hemlighet);\n                    localStorage.setItem(\"username\", response.data.username);\n                    props.closeMe();\n                    props.history.push('/about');\n                })\n                .catch(error => {\n                    setIsLoading(false);\n                    console.log(error.response);\n                    if (error.response) {\n                        console.log(\"Hej\");\n                    } else if (error.request) {\n                        console.log(\"hehjehe\");\n                    } else {\n                        console.log(\"tja\");\n                    }\n                });\n        };\n    };\n    \n    return (\n        <>             \n            <h1 className=\"header\"> Sign in </h1>\n            <hr />\n            <div className=\"content\">\n                <FormStyle className=\"row\" onSubmit={handleSubmit}>\n                    <div className=\"col-sm\">\n                        <label>Email</label>\n                        <Form.Control\n                            name=\"email\"\n                            type=\"email\"\n                            onChange={handleChange}\n                            value={values.email}\n                            required\n                        />\n                        <br />\n                        <label>Password</label>\n                        <Form.Control\n                            name=\"password\"\n                            type=\"password\"\n                            onChange={handleChange}\n                            value={values.password}\n                            required\n                        />\n                        <br />\n                    </div>\n                    <Button\n                        type=\"submit\"\n                        block>Submit\n                    </Button>\n                </FormStyle>\n\n                <p>Don't have an account? \n                    <a aria-current=\"page\" href=\"/register\"> Sign up here</a>\n                </p>\n            </div>\n        </>\n    );\n};\n\nexport default Signin;\n"]},"metadata":{},"sourceType":"module"}